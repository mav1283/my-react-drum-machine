(this["webpackJsonpmy-react-drum-machine"]=this["webpackJsonpmy-react-drum-machine"]||[]).push([[0],{15:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),c=a.n(r),s=(a(6),a(3)),d=a(1),i=Object(n.createContext)(),l=a(4),m=a.n(l),u=a(8),p=a(2);var y=function(){var e=Object(n.useContext)(i),t=e.appState,a=e.dispatch,r=t.power,c=Object(n.useRef)();Object(n.useEffect)((function(){function e(){return new Promise((function(e,t){var n=setTimeout((function(){a({type:"CHANGE_DISPLAY",display:"--loading preset--"}),document.getElementById("preset-status").classList.add("loading"),clearTimeout(n),e("prompt loading started")}),0)}))}function t(){return new Promise((function(e,t){var a=setTimeout((function(){document.getElementById("preset-status").classList.remove("loading"),clearTimeout(a),d(),e("prompt loading ended")}),1500)}))}function n(){return new Promise((function(e,t){var n=setTimeout((function(){a({type:"LOAD_SETTINGS"}),clearTimeout(n),e("load settings done")}),0)}))}function o(){return(o=Object(u.a)(m.a.mark((function a(){var o,r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:return o=a.sent,console.log(o),a.next=6,t();case 6:return r=a.sent,console.log(r),a.next=10,n();case 10:c=a.sent,console.log(c);case 12:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!0===r&&function(){o.apply(this,arguments)}()}),[r,a]),Object(n.useEffect)((function(){!1===r&&a({type:"RESET_DEFAULTS"})}),[r,a]);var s=function(){document.getElementById("power-btn-audio").play(),document.getElementById("power-btn-audio").currentTime=0},d=function(){document.getElementById("power-btn-audio-2").play(),document.getElementById("power-btn-audio-2").currentTime=0};return o.a.createElement("header",{id:"App-header"},o.a.createElement("div",{id:"logo"},o.a.createElement("h1",null,o.a.createElement("span",{className:"orange"},"Drum"),"Machine")," ",o.a.createElement("p",{className:"small"},"Powered by:"," ",o.a.createElement(p.b,{className:!0===r?"react-icon spin":"react-icon"})," ","React")),o.a.createElement("div",{id:"power"},o.a.createElement("button",{id:"power-btn",className:!0===r?"on":null,onClick:function(){a({type:"TOGGLE_POWER"}),s()}},o.a.createElement(p.a,null)),o.a.createElement("audio",{ref:c,id:"power-btn-audio",src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1533087306/sample-swap/sfx-and-unusual-sounds/bleeps-blips-blonks-blarts-and-zaps/simpletone.mp3",className:"btn-audio-efx"},"Your browser does not support the audio element."),o.a.createElement("audio",{id:"power-btn-audio-2",src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1582515899/fcc-drum-machine/Balabolka-text-to-speech/Presets_Loaded.mp3",className:"btn-audio-efx"},"Your browser does not support the audio element.")))};var v=function(){var e=Object(n.useContext)(i),t=e.appState,a=e.dispatch,r=t.power,c=t.display,s=t.volume_lvl,d=t.sound_mode,l=Object(n.useRef)(),m=function(){document.getElementById("btn-audio").play(),document.getElementById("btn-audio").currentTime=0},u=o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{id:"bank_btn_drums",className:"Drums"===d?"bank-btn drums on":"bank-btn drums",onClick:function(){a({type:"SWITCH_TO_DRUM_MODE",display:"kick",sound_mode:"Drums"}),m()}},o.a.createElement("span",{className:"text"},"Drums")),o.a.createElement("button",{id:"bank_btn_synth",className:"Synth"===d?"bank-btn synth on":"bank-btn synth",onClick:function(){a({type:"SWITCH_TO_SYNTH_MODE",display:"horn",sound_mode:"Synth"}),m()}},o.a.createElement("span",{className:"text"},"Synth"))),y=o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{id:"bank_btn_drums",className:"bank-btn drums"},o.a.createElement("span",{className:"text"},"Drums")),o.a.createElement("button",{id:"bank_btn_synth",className:"bank-btn synth"},o.a.createElement("span",{className:"text"},"Synth")));return o.a.createElement("section",{id:"display-section"},o.a.createElement("div",{id:"screen",className:!0===r?"on":null},o.a.createElement("div",{className:"code-area"},o.a.createElement("div",{className:"code-area-section"},o.a.createElement("h2",{id:"preset-status",className:"text-code"},c)),o.a.createElement("div",{className:"code-area-section"},o.a.createElement("p",{className:"text-code-small vol left"},"Volume: ",Math.round(100*s),"%"),o.a.createElement("p",{className:"text-code-small mode right"},"Mode: ",d)))),o.a.createElement("div",{id:"volume"},o.a.createElement("div",{className:"volume-container"},o.a.createElement("label",{className:"volume-label"},o.a.createElement(p.c,null)),o.a.createElement("input",{type:"range",min:"0",max:"1",step:"0.01",value:s,className:"volume-slider",onChange:function(e){a({type:"ADJUST_VOLUME",volume:!0===r?e.target.value:s})}}))),o.a.createElement("div",{id:"bank-controls"},!0===r?u:y,o.a.createElement("audio",{ref:l,id:"btn-audio",src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532597915/sample-swap/switches/switch-it-on2.mp3",className:"btn-audio-efx"})))};var h=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1],d=Object(n.useContext)(i),l=d.appState,m=d.dispatch,u=l.volume_lvl,p=Object(n.useRef)();Object(n.useEffect)((function(){return document.addEventListener("keydown",y),function(){document.removeEventListener("keydown",y)}})),Object(n.useEffect)((function(){E()}));var y=function(t){t.keyCode!==e.keyCode&&t.keyCode!==e.keyTrigger.charCodeAt()||(v(),window.focus())},v=function(){var t=document.getElementById(e.keyTrigger);t.play(),t.currentTime=0,h(),g(e.id.replace(/-/g," ")),setTimeout(k,200)},h=function(){c("light-on")},k=function(){c("")},E=function(){p.current.volume=u},g=function(e){m({type:"CHANGE_DISPLAY",display:e})};return o.a.createElement("div",{id:e.id,className:"pad ".concat(r),onClick:v},o.a.createElement("p",null,e.keyTrigger),o.a.createElement("audio",{ref:p,className:"clip",id:e.keyTrigger,src:e.src}))};var k=function(e){var t=e.keyCode;return o.a.createElement("div",{className:"pad light-off"},o.a.createElement("p",null,t))},E=[{id:"kick-drum",keyCode:81,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532587165/fcc-drum-machine/kick-drums/kick-drum-7.mp3",keyTrigger:"Q"},{id:"Snare",keyCode:87,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532587362/fcc-drum-machine/snare-drums/snaredrum1.mp3",keyTrigger:"W"},{id:"Hi-Hat-Open",keyCode:69,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532587997/fcc-drum-machine/hi-hats/hihat1.mp3",keyTrigger:"E"},{id:"Hi-Hat-Close",keyCode:65,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532587997/fcc-drum-machine/hi-hats/hihat4.mp3",keyTrigger:"A"},{id:"Tom-Tom",keyCode:83,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532588185/fcc-drum-machine/tom-toms/tomtomdrum3.mp3",keyTrigger:"S"},{id:"Crash",keyCode:68,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532587948/fcc-drum-machine/cymbals%202/cymbalcrash1.mp3",keyTrigger:"D"},{id:"Ride",keyCode:90,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532582454/sample-swap/drums-and-single-hits/rides/RIDE_S_11.mp3",keyTrigger:"Z"},{id:"China",keyCode:88,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532580120/sample-swap/drums-and-single-hits/china/big_china_cym.mp3",keyTrigger:"X"},{id:"Cowbell",keyCode:67,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532587867/fcc-drum-machine/cowbells/cowbell1.mp3",keyTrigger:"C"}],g=[{id:"Horn",keyCode:81,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674689/sample-swap/horn/horn-section-godown.mp3",keyTrigger:"Q"},{id:"Flute",keyCode:87,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674456/sample-swap/flute/192_flute-madness.mp3",keyTrigger:"W"},{id:"Church-Organ",keyCode:69,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674666/sample-swap/piano/almost-the-doors-organ.mp3",keyTrigger:"E"},{id:"Saxophone",keyCode:65,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532675116/sample-swap/sax/sax-squeal-tore-my-brains-out.mp3",keyTrigger:"A"},{id:"Acoustic-Guitar",keyCode:83,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674083/sample-swap/guitar/120_acoustic-guitar-picking1.mp3",keyTrigger:"S"},{id:"Piano",keyCode:68,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674667/sample-swap/piano/096_salsa-piano-1.mp3",keyTrigger:"D"},{id:"Violin",keyCode:90,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674483/sample-swap/violin/violin-loop-2.mp3",keyTrigger:"Z"},{id:"Choir",keyCode:88,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674510/sample-swap/choir/Slavic-Choir_Eb_Aah.mp3",keyTrigger:"X"},{id:"Voice",keyCode:67,src:"https://res.cloudinary.com/dzsmdyknz/video/upload/v1532674533/sample-swap/voice/voice_woo.mp3",keyTrigger:"C"}],f=["q","w","e","a","s","d","z","x","c"];var b=function(){var e=Object(n.useContext)(i).appState,t=e.power,a=e.sound_mode;return o.a.createElement("section",{id:"pads"},!0===t?"Drums"===a?E.map((function(e){return o.a.createElement(h,Object.assign({key:e.id},e))})):g.map((function(e){return o.a.createElement(h,Object.assign({key:e.id},e))})):f.map((function(e){return o.a.createElement(k,{key:e,keyCode:e})})))};var w=function(){return o.a.createElement("div",{id:"drum-interface"},o.a.createElement(b,null),o.a.createElement(v,null))};var T=function(){return o.a.createElement("div",{id:"App-footer"},o.a.createElement("p",null,"Design and develop by:"," ",o.a.createElement("a",{href:"mailto:info@paolodullano.com"},"Dani Paolo S. Dullano")))},_={power:!0,display:"...",sound_mode:"...",volume_lvl:.4},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_POWER":return Object(d.a)({},e,{power:!e.power});case"ADJUST_VOLUME":return Object(d.a)({},e,{volume_lvl:t.volume});case"SWITCH_TO_SYNTH_MODE":case"SWITCH_TO_DRUM_MODE":return Object(d.a)({},e,{display:t.display,sound_mode:t.sound_mode});case"CHANGE_DISPLAY":return Object(d.a)({},e,{display:t.display});case"LOAD_SETTINGS":return Object(d.a)({},e,{display:"Kick",sound_mode:"Drums",volume_lvl:.4});case"RESET_DEFAULTS":return Object(d.a)({},e,{power:!1,display:"...",sound_mode:"...",volume_lvl:.4});default:return e}};var z=function(){var e=Object(n.useReducer)(C,_),t=Object(s.a)(e,2),a=t[0],r=t[1];return o.a.createElement(i.Provider,{value:{appState:a,dispatch:r}},o.a.createElement("div",{className:"App"},o.a.createElement("p",null,"Click the power button to turn on / off the app"),o.a.createElement("div",{className:"DrumMachine"},o.a.createElement(y,null),o.a.createElement(w,null),o.a.createElement(T,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.e93a7987.chunk.js.map